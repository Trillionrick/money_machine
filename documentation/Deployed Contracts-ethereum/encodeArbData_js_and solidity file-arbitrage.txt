Deployed Contracts

HighSpeedArbRunner at 0xd91...39138 (memory)

Balance: 0 ETH
executeOperation: address asset, uint256 amount, uint256 premium, address , bytes params
requestFlashLoan: address loanAsset, uint256 loanAmount, bytes arbData
rescue funds: address token, uint256 amount

TAB:

AAVE_POOL
owner
UNI_V3_ROUTER
WETH
Low level interactions



 // SPDX-License-Identifier: MIT
  pragma solidity 0.8.25;

  interface IERC20 {
      function approve(address spender, uint256 amount) external returns (bool);
      function balanceOf(address account) external view returns (uint256);
      function transfer(address to, uint256 amount) external returns (bool);
  }

  // Aave V3 Pool (single-asset flash loan)
  interface IAavePool {
      function flashLoanSimple(
          address receiverAddress,
          address asset,
          uint256 amount,
          bytes calldata params,
          uint16 referralCode
      ) external;
  }

  interface IFlashLoanReceiver {
      function executeOperation(
          address asset,
          uint256 amount,
          uint256 premium,
          address initiator,
          bytes calldata params
      ) external returns (bool);
  }

  contract HighSpeedArbRunner is IFlashLoanReceiver {
      address public immutable AAVE_POOL = 0x87870Bca3f5FD6335c3f4d4C530Eed06fb5de523;
      address public immutable UNI_V3_ROUTER = 0xe592427A0aEce92DE3EdEe1F18F015BAEdF2C3a1;
      address public immutable WETH = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;

      address public owner;

      struct ArbPlan {
          address routerAddress;
          bytes swapData;
          address finalToken;
          uint256 minProfit;
      }

      modifier onlyOwner() { require(msg.sender == owner, "HSA: Only owner"); _; }

      constructor() { owner = msg.sender; }

      function _decodePlan(bytes memory data) internal pure returns (ArbPlan memory) {
          return abi.decode(data, (ArbPlan));
      }

      function requestFlashLoan(
          address loanAsset,
          uint256 loanAmount,
          bytes calldata arbData
      ) external onlyOwner {
          IAavePool(AAVE_POOL).flashLoanSimple(
              address(this),
              loanAsset,
              loanAmount,
              arbData,
              0
          );
      }

      function executeOperation(
          address asset,
          uint256 amount,
          uint256 premium,
          address, // initiator
          bytes calldata params
      ) external override returns (bool) {
          require(msg.sender == AAVE_POOL, "HSA: bad caller");

          ArbPlan memory plan = _decodePlan(params);
          require(plan.finalToken == asset, "HSA: wrong final token");

          uint256 owed = amount + premium;
          IERC20(asset).approve(plan.routerAddress, amount);

          (bool success, ) = plan.routerAddress.call(plan.swapData);
          require(success, "HSA: swap failed");

          uint256 finalBalance = IERC20(asset).balanceOf(address(this));
          require(finalBalance >= owed + plan.minProfit, "HSA: insufficient profit");

          IERC20(asset).approve(AAVE_POOL, owed);
          return true;
      }

      function rescueFunds(address token, uint256 amount) external onlyOwner {
          IERC20(token).transfer(owner, amount);
      }

      receive() external payable {}
  }


After running the two scripts, I see this in the panel
Welcome to Remix 1.2.0 
Your files are stored in indexedDB, 2.35 KB / 571.63 GB used
You can use this terminal to: 
Check transactions details and start debugging.
Execute JavaScript scripts:
 - Input a script directly in the command line interface 
 - Select a Javascript file in the file explorer and then run `remix.execute()` or `remix.exeCurrent()`  in the command line interface 
 - Right-click on a JavaScript file in the file explorer and then click `Run` 
The following libraries are accessible:
ethers.js 
Type the library name to see available commands.
creation of HighSpeedArbRunner pending...
[vm]from: 0x5B3...eddC4to: HighSpeedArbRunner.(constructor)value: 0 weidata: 0x60e...90033logs: 0hash: 0xbf0...2fb9f

==========================================
==========================================

[vm]from: 0x5B3...eddC4to: HighSpeedArbRunner.(constructor)value: 0 weidata: 0x60e...90033logs: 0hash: 0xbf0...2fb9f
status	1 Transaction mined and execution succeed
transaction hash	0xbf0f4e5e965b91faf74773b296edd05ec8e720ccbbaec1985b83ea62c1b2fb9f
block hash	0xc372050e2c5157edfe9ffde3b4a1316fdca4cd44659937ce242e6662d7c78fbf
block number	1
contract address	0xd9145CCE52D386f254917e481eB44e9943F39138
from	0x5B38Da6a701c568545dCfcB03FcB875f56beddC4
to	HighSpeedArbRunner.(constructor)
transaction cost	1105214 gas 
execution cost	976134 gas 
output	0x608060405260043610610073575f3560e01c80637781f71f1161004d5780637781f71f1461010c57806378e3214f146101365780638da5cb5b1461015e578063ad5c4648146101885761007a565b806308a016751461007e5780631b11d0ff146100a85780635107d61e146100e45761007a565b3661007a57005b5f80fd5b348015610089575f80fd5b506100926101b2565b60405161009f919061094b565b60405180910390f35b3480156100b3575f80fd5b506100ce60048036038101906100c99190610a33565b6101d6565b6040516100db9190610ae3565b60405180910390f35b3480156100ef575f80fd5b5061010a60048036038101906101059190610afc565b6105de565b005b348015610117575f80fd5b50610120610701565b60405161012d919061094b565b60405180910390f35b348015610141575f80fd5b5061015c60048036038101906101579190610b6d565b610725565b005b348015610169575f80fd5b50610172610851565b60405161017f919061094b565b60405180910390f35b348015610193575f80fd5b5061019c610874565b6040516101a9919061094b565b60405180910390f35b7f00000000000000000000000087870bca3f5fd6335c3f4d4c530eed06fb5de52381565b5f7f00000000000000000000000087870bca3f5fd6335c3f4d4c530eed06fb5de52373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610265576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161025c90610c05565b60405180910390fd5b5f6102b284848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050610898565b90508773ffffffffffffffffffffffffffffffffffffffff16816040015173ffffffffffffffffffffffffffffffffffffffff1614610326576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161031d90610c6d565b60405180910390fd5b5f86886103339190610cb8565b90508873ffffffffffffffffffffffffffffffffffffffff1663095ea7b3835f01518a6040518363ffffffff1660e01b8152600401610373929190610cfa565b6020604051808303815f875af115801561038f573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103b39190610d4b565b505f825f015173ffffffffffffffffffffffffffffffffffffffff1683602001516040516103e19190610dc8565b5f604051808303815f865af19150503d805f811461041a576040519150601f19603f3d011682016040523d82523d5f602084013e61041f565b606091505b5050905080610463576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161045a90610e28565b60405180910390fd5b5f8a73ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b815260040161049d919061094b565b602060405180830381865afa1580156104b8573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104dc9190610e5a565b90508360600151836104ee9190610cb8565b811015610530576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161052790610ecf565b60405180910390fd5b8a73ffffffffffffffffffffffffffffffffffffffff1663095ea7b37f00000000000000000000000087870bca3f5fd6335c3f4d4c530eed06fb5de523856040518363ffffffff1660e01b815260040161058b929190610cfa565b6020604051808303815f875af11580156105a7573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105cb9190610d4b565b5060019450505050509695505050505050565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461066b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066290610f37565b60405180910390fd5b7f00000000000000000000000087870bca3f5fd6335c3f4d4c530eed06fb5de52373ffffffffffffffffffffffffffffffffffffffff166342b0b77c30868686865f6040518763ffffffff1660e01b81526004016106ce96959493929190610ffe565b5f604051808303815f87803b1580156106e5575f80fd5b505af11580156106f7573d5f803e3d5ffd5b5050505050505050565b7f000000000000000000000000e592427a0aece92de3edee1f18f015baedf2c3a181565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107a990610f37565b60405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff1663a9059cbb5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff16836040518363ffffffff1660e01b815260040161080c929190610cfa565b6020604051808303815f875af1158015610828573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061084c9190610d4b565b505050565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc281565b6108a06108bb565b818060200190518101906108b4919061121f565b9050919050565b60405180608001604052805f73ffffffffffffffffffffffffffffffffffffffff168152602001606081526020015f73ffffffffffffffffffffffffffffffffffffffff1681526020015f81525090565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6109358261090c565b9050919050565b6109458161092b565b82525050565b5f60208201905061095e5f83018461093c565b92915050565b5f604051905090565b5f80fd5b5f80fd5b61097e8161092b565b8114610988575f80fd5b50565b5f8135905061099981610975565b92915050565b5f819050919050565b6109b18161099f565b81146109bb575f80fd5b50565b5f813590506109cc816109a8565b92915050565b5f80fd5b5f80fd5b5f80fd5b5f8083601f8401126109f3576109f26109d2565b5b8235905067ffffffffffffffff811115610a1057610a0f6109d6565b5b602083019150836001820283011115610a2c57610a2b6109da565b5b9250929050565b5f805f805f8060a08789031215610a4d57610a4c61096d565b5b5f610a5a89828a0161098b565b9650506020610a6b89828a016109be565b9550506040610a7c89828a016109be565b9450506060610a8d89828a0161098b565b935050608087013567ffffffffffffffff811115610aae57610aad610971565b5b610aba89828a016109de565b92509250509295509295509295565b5f8115159050919050565b610add81610ac9565b82525050565b5f602082019050610af65f830184610ad4565b92915050565b5f805f8060608587031215610b1457610b1361096d565b5b5f610b218782880161098b565b9450506020610b32878288016109be565b935050604085013567ffffffffffffffff811115610b5357610b52610971565b5b610b5f878288016109de565b925092505092959194509250565b5f8060408385031215610b8357610b8261096d565b5b5f610b908582860161098b565b9250506020610ba1858286016109be565b9150509250929050565b5f82825260208201905092915050565b7f4853413a206261642063616c6c657200000000000000000000000000000000005f82015250565b5f610bef600f83610bab565b9150610bfa82610bbb565b602082019050919050565b5f6020820190508181035f830152610c1c81610be3565b9050919050565b7f4853413a2077726f6e672066696e616c20746f6b656e000000000000000000005f82015250565b5f610c57601683610bab565b9150610c6282610c23565b602082019050919050565b5f6020820190508181035f830152610c8481610c4b565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610cc28261099f565b9150610ccd8361099f565b9250828201905080821115610ce557610ce4610c8b565b5b92915050565b610cf48161099f565b82525050565b5f604082019050610d0d5f83018561093c565b610d1a6020830184610ceb565b9392505050565b610d2a81610ac9565b8114610d34575f80fd5b50565b5f81519050610d4581610d21565b92915050565b5f60208284031215610d6057610d5f61096d565b5b5f610d6d84828501610d37565b91505092915050565b5f81519050919050565b5f81905092915050565b8281835e5f83830152505050565b5f610da282610d76565b610dac8185610d80565b9350610dbc818560208601610d8a565b80840191505092915050565b5f610dd38284610d98565b915081905092915050565b7f4853413a2073776170206661696c6564000000000000000000000000000000005f82015250565b5f610e12601083610bab565b9150610e1d82610dde565b602082019050919050565b5f6020820190508181035f830152610e3f81610e06565b9050919050565b5f81519050610e54816109a8565b92915050565b5f60208284031215610e6f57610e6e61096d565b5b5f610e7c84828501610e46565b91505092915050565b7f4853413a20696e73756666696369656e742070726f66697400000000000000005f82015250565b5f610eb9601883610bab565b9150610ec482610e85565b602082019050919050565b5f6020820190508181035f830152610ee681610ead565b9050919050565b7f4853413a204f6e6c79206f776e657200000000000000000000000000000000005f82015250565b5f610f21600f83610bab565b9150610f2c82610eed565b602082019050919050565b5f6020820190508181035f830152610f4e81610f15565b9050919050565b5f82825260208201905092915050565b828183375f83830152505050565b5f601f19601f8301169050919050565b5f610f8e8385610f55565b9350610f9b838584610f65565b610fa483610f73565b840190509392505050565b5f819050919050565b5f61ffff82169050919050565b5f819050919050565b5f610fe8610fe3610fde84610faf565b610fc5565b610fb8565b9050919050565b610ff881610fce565b82525050565b5f60a0820190506110115f83018961093c565b61101e602083018861093c565b61102b6040830187610ceb565b818103606083015261103e818587610f83565b905061104d6080830184610fef565b979650505050505050565b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61109282610f73565b810181811067ffffffffffffffff821117156110b1576110b061105c565b5b80604052505050565b5f6110c3610964565b90506110cf8282611089565b919050565b5f80fd5b5f815190506110e681610975565b92915050565b5f80fd5b5f67ffffffffffffffff82111561110a5761110961105c565b5b61111382610f73565b9050602081019050919050565b5f61113261112d846110f0565b6110ba565b90508281526020810184848401111561114e5761114d6110ec565b5b611159848285610d8a565b509392505050565b5f82601f830112611175576111746109d2565b5b8151611185848260208601611120565b91505092915050565b5f608082840312156111a3576111a2611058565b5b6111ad60806110ba565b90505f6111bc848285016110d8565b5f83015250602082015167ffffffffffffffff8111156111df576111de6110d4565b5b6111eb84828501611161565b60208301525060406111ff848285016110d8565b604083015250606061121384828501610e46565b60608301525092915050565b5f602082840312156112345761123361096d565b5b5f82015167ffffffffffffffff81111561125157611250610971565b5b61125d8482850161118e565b9150509291505056fea2646970667358221220180cdc69c11cfce8005b363e1adcde279024a167fee6cc556fd5dc4e40e75b9864736f6c63430008190033
decoded input	{}
decoded output	 - 
logs	[]
raw logs	[]
running scripts/encodeArbData.js ...
